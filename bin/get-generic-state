#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""Display Polaris health generic state"""

import json
import time

import memcache

MEMCACHED_HOSTNAME = '127.0.0.1'
HEARTBEAT_KEY = 'polaris_health:heartbeat'
PPDNS_STATE_KEY = 'polaris_health:state:ppdns'

mc = memcache.Client(['127.0.0.1'])

val = mc.get('polaris_health:generic_state')
print(json.dumps(val, indent=4))
print('\nTimestamp:', time.asctime(time.gmtime(val['timestamp'])))

